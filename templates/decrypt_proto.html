<html>
    <head>
    <title>Encrypted File</title>

    <style type="text/css">
    {{ include_file('build/decrypt.css') }}
    </style>

    <script>
    {{ include_file('build/decrypt_controller.js') }}
    </script>

    </head>

    <body onload="init()">

      <div style="padding:15px;">

        <!-- header -->
        <div class="row">
          <div class="col-xs-12">
            {# Literal here because it is double templated #}
            <h3 class="logo">{{ "{{ filename }}" }} (Encrypted with PasswordProtectMyFile.com)</h3>
          </div>
        </div>

        <div class="row main-content">
          <div class="col-xs-4 col-xs-offset-4" style="z-index:1">
            <div class="form-box well">
              <div id="loader">
                  <img src={{ data_uri('img/loader.gif') }}/>
              </div>
              <form id="action-form" style="display: none;">
                  <p>
                    <label for="password">Enter Password:</label>
                    <input id="password" type="password">
                  </p>
                  <button id="action-form-submit" type="submit" class="btn btn-warning btn-block">Decrypt</button>
              </form>

              <div id="aux-box">
                <div class="progress" style="display:none;">
                  <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;">
                  </div>
                </div>

                <div id="error-box" class="alert alert-danger" style="display: none;"></div>

                <div id="ready-box" class="alert alert-success" style="display: none;">
                  <h5>Your file is decrypted!</h5>

                  <div class="centered-button-group">
                    <a id="file-link" download>
                      <button class="btn btn-info">Download</button>
                    </a>

                    <a id="view-link">
                      <button class="btn btn-info">View</button>
                    </a>
                  </div>

                </div>

              </div>

            </div>
          </div>

          <div class="ciphertext-block-wrapper">
            <div class="ciphertext-block">
                {# Literal here because it is double templated #}
                <div id="ciphertext">{{ "{{ ciphertext }}" }}</div>
            </div>
          </div>

        </div>

        <!-- footer -->
        <div class="row">
          <div class="col-xs-12">
            <div class="footer">
              <h6>Copyright Louis Sobel</h6>
            </div>
          </div>
        </div>

      </div>

    </body>

    <script type="text/javascript">
        function init() {
          new DecryptController();
        }
    </script>

</html>